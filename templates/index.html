{% extends "base.html" %}
{% block title %}Dashboard{% endblock title %}

{% block body %}
<div class="container-fluid py-4">
    <h1 class="text-center mb-4">Student Management</h1>
    
    <div class="row g-4">
        <!-- Sidebar -->
        <div class="col-lg-3 col-md-4 col-sm-12">
            <div class="card shadow-md border-0">
                <div class="card-body">
                    <h5 class="card-title">Actions</h5>
                    <div class="d-grid gap-2">
                        <!-- Change the button to an anchor tag -->
                        <a href="{% url 'add_student' %}" class="btn btn-success">Add Student +</a>
                        <button type="button" class="btn btn-warning">Edit Student</button>
                        <button type="button" class="btn btn-danger">Delete Student -</button>
                    </div>
                </div>
            </div>
        </div>
        
        
        <!-- Main Content -->
        <div class="col-lg-9 col-md-8 col-sm-12">
            <!-- Statistics Section -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="card shadow-md text-center border-0">
                        <div class="card-body">
                            <h5 class="card-title">Total Students</h5>
                            <p class="card-text display-6">{{ total_students }}</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card shadow-md text-center border-0">
                        <div class="card-body">
                            <h5 class="card-title">CBSE Students</h5>
                            <p class="card-text display-6">{{ cbse_students }}</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card shadow-md text-center border-0">
                        <div class="card-body">
                            <h5 class="card-title">WBBSE Students</h5>
                            <p class="card-text display-6">{{ wbbse_students }}</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card shadow-md text-center border-0">
                        <div class="card-body">
                            <h5 class="card-title">ICSE Students</h5>
                            <p class="card-text display-6">{{ icse_students }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Student Table Section -->
            <div class="card shadow-md border-0">
                <div class="card-body">
                    <h5 class="card-title">Student Data</h5>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="table-dark">
                                <tr>
                                    <th scope="col">Sl no.</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">School</th>
                                    <th scope="col">Board</th>
                                    <th scope="col">Class</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for student in students %}
                                <tr>
                                    <th scope="row">{{ forloop.counter }}</th>
                                    <td>{{ student.name }}</td>
                                    <td>{{ student.school }}</td>
                                    <td>{{ student.board }}</td>
                                    <td>{{ student.student_class }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock body %}
